<!--<app-progress-bar *ngIf="loading"></app-progress-bar>

<div *ngIf="!loading" class="container mt-4">
  <div class="row justify-content-center">
    <div class="col-md-8">
      <div class="card">
        <div class="card-header">
          <h3>@if(id === 0) {Agregar Receta} @else {Editar Receta}</h3>
        </div>
        <div class="card-body">
          <form [formGroup]="form" (ngSubmit)="saveRecipe()">
            <div class="form-group mb-3">
              <label for="title">Título</label>
              <input formControlName="title" type="text" id="title" class="form-control" placeholder="Ingrese el título" />
              <span *ngIf="form.get('title')?.hasError('required') && form.get('title')?.touched">
                El campo título es <strong>requerido</strong>
              </span>
            </div>

            <div class="form-group mb-3">
              <label for="description">Descripción</label>
              <textarea formControlName="description" id="description" class="form-control" placeholder="Ingrese la descripción"></textarea>
              <span *ngIf="form.get('description')?.hasError('required') && form.get('description')?.touched">
                El campo descripción es <strong>requerido</strong>
              </span>
            </div>

            <div class="form-group mb-3">
              <label for="steps">Pasos</label>
              <textarea formControlName="steps" id="steps" class="form-control" placeholder="Ingrese los pasos"></textarea>
              <span *ngIf="form.get('steps')?.hasError('required') && form.get('steps')?.touched">
                El campo pasos es <strong>requerido</strong>
              </span>
            </div>

            <div class="form-group mb-3">
              <label for="category">Categoría</label>
              <input formControlName="category" type="text" id="category" class="form-control" placeholder="Ingrese la categoría" />
              <span *ngIf="form.get('category')?.hasError('required') && form.get('category')?.touched">
                El campo categoría es <strong>requerido</strong>
              </span>
            </div>

            <div class="form-group mb-3">
              <div class="form-check">
                <input formControlName="is_premium" type="checkbox" id="is_premium" class="form-check-input" />
                <label for="is_premium" class="form-check-label">¿Es Premium?</label>
              </div>
            </div>

            <div class="d-flex justify-content-between">
              <button type="submit" class="btn btn-primary">@if(id === 0) {Registrar} @else {Actualizar}</button>
              <button type="button" class="btn btn-secondary" routerLink="/recipes">Cancelar</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>-->

<!--OTRO enfoque casi el bueno 
<app-progress-bar *ngIf="loading"></app-progress-bar>
<div class="container mt-4" *ngIf="!loading">
  <div class="row">
    <div class="col-md-8 offset-md-2">
      <h3>{{ id ? 'Editar Receta' : 'Agregar Receta' }}</h3>
      <form [formGroup]="form" (ngSubmit)="saveRecipe()">
        <div class="form-group">
          <label for="title">Título</label>
          <input formControlName="title" type="text" id="title" class="form-control" placeholder="Ingrese el título">
          <span *ngIf="form.get('title')?.hasError('required') && form.get('title')?.touched">
            El campo título es <strong>requerido</strong>
          </span>
        </div>

        <div class="form-group mt-2">
          <label for="description">Descripción</label>
          <textarea formControlName="description" id="description" class="form-control" placeholder="Ingrese la descripción"></textarea>
          <span *ngIf="form.get('description')?.hasError('required') && form.get('description')?.touched">
            El campo descripción es <strong>requerido</strong>
          </span>
        </div>

        <div class="form-group mt-2">
          <label for="steps">Pasos</label>
          <textarea formControlName="steps" id="steps" class="form-control" placeholder="Ingrese los pasos"></textarea>
          <span *ngIf="form.get('steps')?.hasError('required') && form.get('steps')?.touched">
            El campo pasos es <strong>requerido</strong>
          </span>
        </div>

        <div class="form-group mt-2">
          <label for="category">Categoría</label>
          <input formControlName="category" type="text" id="category" class="form-control" placeholder="Ingrese la categoría">
          <span *ngIf="form.get('category')?.hasError('required') && form.get('category')?.touched">
            El campo categoría es <strong>requerido</strong>
          </span>
        </div>

        <div class="form-group mt-2">
          <label for="is_premium">¿Es Premium?</label>
          <input formControlName="is_premium" type="checkbox" id="is_premium" class="form-check-input">
          <span *ngIf="form.get('is_premium')?.hasError('required') && form.get('is_premium')?.touched">
            El campo premium es <strong>requerido</strong>
          </span>
        </div>

        <div class="form-group mt-3 text-center">
          <button [disabled]="form.invalid" type="submit" class="btn btn-primary">Guardar</button>
          <button type="button" class="btn btn-secondary" (click)="cancel()">Cancelar</button>
        </div>
      </form>
    </div>
  </div>
</div>-->

<!--<div class="container mt-4">
    <div class="card border-primary mb-3">
      <div class="card-header">
        {{ id === 0 ? 'Agregar Receta' : 'Editar Receta' }}
      </div>
      <div class="card-body text-primary">
        <form [formGroup]="form" (ngSubmit)="saveRecipe()">
          <div class="form-group">
            <label for="title">Título</label>
            <input formControlName="title" type="text" id="title" class="form-control" placeholder="Ingrese título">
            <span *ngIf="form.get('title')?.hasError('required') && form.get('title')?.touched" class="text-danger">
              El campo título es <strong>requerido</strong>
            </span>
          </div>
  
          <div class="form-group mt-3">
            <label for="description">Descripción</label>
            <input formControlName="description" type="text" id="description" class="form-control" placeholder="Ingrese descripción">
            <span *ngIf="form.get('description')?.hasError('required') && form.get('description')?.touched" class="text-danger">
              El campo descripción es <strong>requerido</strong>
            </span>
          </div>
  
          <div class="form-group mt-3">
            <label for="steps">Pasos</label>
            <textarea formControlName="steps" id="steps" class="form-control" placeholder="Ingrese pasos"></textarea>
            <span *ngIf="form.get('steps')?.hasError('required') && form.get('steps')?.touched" class="text-danger">
              El campo pasos es <strong>requerido</strong>
            </span>
          </div>
  
          <div class="form-group mt-3">
            <label for="category">Categoría</label>
            <input formControlName="category" type="text" id="category" class="form-control" placeholder="Ingrese categoría">
            <span *ngIf="form.get('category')?.hasError('required') && form.get('category')?.touched" class="text-danger">
              El campo categoría es <strong>requerido</strong>
            </span>
          </div>
  
          <div class="form-group mt-3">
            <label for="is_premium">Premium</label>
            <input formControlName="is_premium" type="checkbox" id="is_premium" class="form-check-input">
            <label for="is_premium" class="form-check-label">Es Premium</label>
          </div>
  
          <div class="mt-4 d-flex justify-content-between">
            <button type="button" class="btn btn-secondary" (click)="cancel()">Cancelar</button>
            <button [disabled]="form.invalid" type="submit" class="btn btn-primary">Aceptar</button>
          </div>
        </form>
      </div>
    </div>
  </div>-->
  



  <div class="container mt-4">
    <div class="card border-primary mb-3">
      <div class="card-header">
        @if (id === 0) {
          Agregar Receta
        } @else {
          Editar Receta
        }
      </div>
      <div class="card-body text-primary">
        <form [formGroup]="form" (ngSubmit)="saveRecipe()">
          <div class="form-group">
            <label for="title">Título</label>
            <input formControlName="title" type="text" id="title" class="form-control" placeholder="Ingrese título">
            @if (form.get('title')?.hasError('required') && form.get('title')?.touched) {
              <span class="text-danger">
                El campo título es <strong>requerido</strong>
              </span>
            }
          </div>
  
          <div class="form-group mt-3">
            <label for="description">Descripción</label>
            <input formControlName="description" type="text" id="description" class="form-control" placeholder="Ingrese descripción">
            @if (form.get('description')?.hasError('required') && form.get('description')?.touched) {
              <span class="text-danger">
                El campo descripción es <strong>requerido</strong>
              </span>
            }
          </div>
  
          <div class="form-group mt-3">
            <label for="steps">Pasos</label>
            <textarea formControlName="steps" id="steps" class="form-control" placeholder="Ingrese pasos"></textarea>
            @if (form.get('steps')?.hasError('required') && form.get('steps')?.touched) {
              <span class="text-danger">
                El campo pasos es <strong>requerido</strong>
              </span>
            }
          </div>
  
          <div class="form-group mt-3">
            <label for="category">Categoría</label>
            <input formControlName="category" type="text" id="category" class="form-control" placeholder="Ingrese categoría">
            @if (form.get('category')?.hasError('required') && form.get('category')?.touched) {
              <span class="text-danger">
                El campo categoría es <strong>requerido</strong>
              </span>
            }
          </div>
  
          <div class="form-group mt-3">
            <label for="is_premium">Premium</label>
            <input formControlName="is_premium" type="checkbox" id="is_premium" class="form-check-input">
            <label for="is_premium" class="form-check-label">Es Premium</label>
          </div>

        <!--- @if (authService.isAdmin()) {
            <div class="form-group mt-3">
              <label for="additional-field">Campo Adicional (Visible solo para Admin)</label>
              <input formControlName="additionalField" type="text" id="additional-field" class="form-control" placeholder="Ingrese información adicional">
            </div>
          }-->
  
          <div class="mt-4 d-flex justify-content-between">
            <button type="button" class="btn btn-secondary" (click)="cancel()">Cancelar</button>
            <button [disabled]="form.invalid" type="submit" class="btn btn-primary">Aceptar</button>
          </div>
        </form>
      </div>
    </div>
  </div>